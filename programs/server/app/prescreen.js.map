{"version":3,"sources":["meteor://ðŸ’»app/prescreen.js"],"names":[],"mappings":"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","file":"/prescreen.js","sourcesContent":["Screens = new Meteor.Collection('screens')\nForms = new Meteor.Collection('forms')\nNewScreen = new Meteor.Collection('newscreen')\n\nRouter.route('/', function() {\n  this.render(\"Home\");\n});\n\nRouter.route('/forms', function(){\n  this.render(\"ManageForms\");\n});\n\nRouter.route('/screens/:_id', {\n  name: 'StoredScreen',\n  data: function(){\n    return Screens.findOne({_id: this.params._id});\n  }\n});\n\nRouter.route('/forms/:_id', {\n  name: 'BlankForm',\n  data: function(){ \n    return NewScreen.findOne({_id: this.params._id});\n  }\n});\n\nRouter.route('/manage/:_id', {\n  name: 'ManageForm',\n  data: function(){\n    return Forms.findOne({_id: this.params._id});\n  }\n});\n\nif (Meteor.isClient) {\n\n  Template.ScreensPanel.helpers({\n      items: function(){\n        return Screens.find();\n      }\n  });\n\n  Template.ManageForm.helpers({\n      items: function(){\n        return Forms.find();\n      }\n  });\n\n  Template.ManageForms.helpers({\n      items: function(){\n        return Forms.find();\n      }\n  });\n\n  Template.BlankForm.helpers({\n      items: function(){\n        return Forms.find();\n      }\n  });\n\n  Template.BlankForm.onRendered(function(){\n    $('input')[0].value = this.data.first;\n    for(i=0;i<this.data.answers.length;i++){\n      $('textarea')[i].value = this.data.answers[i];\n    }\n  }); \n\n  Template.ScreensPanel.events({\n    'click .delete': function(){\n      check_delete = confirm(\"Are you sure?\");\n      if(check_delete == true){\n        Screens.remove(this._id);\n      } \n    }\n  });\n\n  Template.BlankForm.events({\n    'click [name=submit]': function(e, tmpl) {\n      e.preventDefault();\n\n      var newObj = {};\n      var q_elements = $('.question-form li');\n      var a_elements = $('textarea');\n      var ca_elements = $('.correct-answer');\n      var qa_bundle = []\n\n      for(i=0; i<q_elements.length; i++){\n        myObj={}\n        myObj['question'] = q_elements[i].innerHTML;\n        myObj['answer'] = a_elements[i+1].value;\n        myObj['correct_answer'] = ca_elements[i].innerHTML.split('</b> ')[1];\n        qa_bundle.push(myObj);\n      }\n\n      newObj['name'] = $('input')[0].value;\n      newObj['prescreen_notes'] = $('#prescreen-notes')[0].value;\n      newObj['role'] = this.position_name;\n      newObj['qa_bundle'] = qa_bundle;\n      newObj['created_at'] = new Date;\n\n\n      Screens.insert(newObj);\n\n      for(i=0;i<$('input').length; i++){\n        $('input')[i].value = '';\n      }\n\n      for(i=0;i<$('textarea').length; i++){\n        $('textarea')[i].value = '';\n      }\n\n      $('#new-id')[0].innerHTML = 'Link to candidate prescreen: <a href=\"/screens/' + Screens.find().fetch()[Screens.find().fetch().length-1]._id +'\">' + Screens.find().fetch()[Screens.find().fetch().length-1]._id + '</a>';\n\n      NewScreen.remove({_id: window.location.pathname.split('/')[window.location.pathname.split('/').length-1]})  \n    },\n\n    'change [id=\"on-change\"]': function(e, tmpl){\n      var screen_data = [];\n      var name = $('input')[0].value;\n      for(i=0; i<$('textarea').length;i++){\n        screen_data.push($('textarea')[i].value);\n      }\n\n      Session.set(\"updateNewScreen\", this._id);\n\n        NewScreen.update(\n          Session.get(\"updateNewScreen\"),\n          {$set: \n            {\n              answers: screen_data,\n              first: name\n            }\n          });\n      console.log(screen_data);\n    }\n  });\n\n  Template.ManageForm.events({\n    'click [name=submit_new]': function(e, tmpl) {\n      e.preventDefault();\n\n      var question = tmpl.find('textarea[name=new_question]').value;\n      var correct_answer = tmpl.find('textarea[name=new_answer]').value;\n      var qa_index = Forms.findOne({_id: window.location.href.split('manage/')[1]}).form_bundle.length;\n\n      var bundle_array = Forms.findOne({_id: window.location.href.split('manage/')[1]}).form_bundle;\n      bundle_array.push({question: question, correct_answer: correct_answer, qa_index: qa_index});\n      var new_bundle = bundle_array;\n\n      Session.set(\"updateForm\", this._id);\n\n        var form_bundle = new_bundle\n\n        Forms.update(\n          Session.get(\"updateForm\"),\n          {$set: \n            {\n              form_bundle: form_bundle\n            }\n          });\n\n      $('.new-question')[0].value = '';\n      $('.new-question')[1].value = '';\n    },\n\n    'click .delete': function(e, tmpl) {\n      e.preventDefault;\n      var bundle_array = Forms.findOne({_id: window.location.href.split('manage/')[1]}).form_bundle;\n      bundle_array.splice(this.qa_index, 1);\n      for(i=0;i<bundle_array.length; i++){\n        bundle_array[i]['qa_index'] = i;\n      }\n\n      Session.set(\"updateForm\", window.location.href.split('manage/')[1]);\n        var new_bundle= bundle_array;\n        console.log(new_bundle);\n\n        Forms.update(\n          Session.get(\"updateForm\"),\n          {$set: \n            {\n              form_bundle: new_bundle\n            }\n          });\n    },\n\n    'keypress .new-question': function(e, tmpl){\n      if(e.keyCode==13){\n        $('#submit-new').click();\n      }\n    }\n  });\n\n  Template.ManageForms.events({\n    'click [name=submit_new]': function(e, tmpl) {\n      e.preventDefault();\n\n      var position_name = $('#position-name')[0].value;\n\n      Forms.insert({\n        position_name: position_name,\n        form_bundle: [],\n        created_at: new Date\n      });\n\n      $('#position-name')[0].value = '';\n      $('#form-confirmation')[0].innerHTML = '\"' + Forms.find().fetch()[Forms.find().fetch().length-1].position_name + '\" has been created. Manage it <a href=\"/manage/' + Forms.find().fetch()[Forms.find().fetch().length-1]._id + '\">here</a>.'\n    },\n\n    'click [name=edit]': function(e, tmpl) {\n      e.preventDefault();\n\n      window.location = '/manage/'+this._id;\n    },\n\n    'click [name=delete]': function(e, tmpl) {\n      e.preventDefault();\n      ask = confirm('Are you sure?');\n      if(ask === true){\n        Forms.remove(this._id);\n      }\n    },\n\n    'click [name=new-screen]': function(e, tmpl) {\n      NewScreen.insert({\n        first: '',\n        role: this.position_name,\n        answers: [],\n        form_id: this._id,\n        position_name: this.position_name,\n        form_bundle: this.form_bundle,\n        created_at: new Date\n      });\n\n      window.location= '/forms/'+NewScreen.find().fetch()[NewScreen.find().fetch().length-1]._id;\n    },\n\n    'keypress #position-name': function(e, tmpl){\n      if(e.keyCode==13){\n        $('#submit-new').click();\n      }\n    }\n  });\n}\n\nif (Meteor.isServer) {\n}\n"]}